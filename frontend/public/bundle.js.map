{"version":3,"file":"bundle.js","sources":["../src/engine/scene.ts","../src/engine/objects/triangle.ts","../src/engine/objects/sphere.ts","../src/engine/renderer.ts","../src/main.ts"],"sourcesContent":[null,null,null,null,null],"names":["Scene","device","objects","constructor","this","console","log","addObject","object","push","removeObject","index","indexOf","splice","getObjects","draw","passEncoder","obj","Triangle","pipeline","vertexBuffer","color","position","orientation","Float32Array","createVertexBuffer","createPipeline","vertices","createBuffer","size","byteLength","usage","GPUBufferUsage","VERTEX","mappedAtCreation","getMappedRange","set","unmap","fragmentShaderCode","join","createRenderPipeline","label","layout","vertex","module","createShaderModule","code","entryPoint","buffers","arrayStride","attributes","shaderLocation","offset","format","fragment","targets","primitive","topology","setPipeline","setVertexBuffer","Sphere","indexBuffer","radius","numIndices","segments","indices","lat","theta","Math","PI","sinTheta","sin","cosTheta","cos","lon","phi","sinPhi","cosPhi","x","y","z","first","second","length","INDEX","Uint32Array","setIndexBuffer","drawIndexed","Renderer","canvas","context","swapChainFormat","scene","canvasId","document","getElementById","initializeWebGPU","then","clearCanvas","triangle","triangle2","sphere","startRenderingLoop","catch","error","navigator","gpu","Error","adapter","requestAdapter","requestDevice","getContext","window","devicePixelRatio","clientWidth","clientHeight","configuration","alphaMode","configure","commandEncoder","createCommandEncoder","renderPassDescriptor","colorAttachments","view","getCurrentTexture","createView","loadOp","clearValue","r","g","b","a","storeOp","beginRenderPass","end","commands","finish","queue","submit","frame","render","requestAnimationFrame","async","checkWebGPUSupport","supported"],"mappings":"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"}